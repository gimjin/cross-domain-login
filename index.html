<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="charset" content="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" type="image/ico" href="/static/favicon.ico">
  <script src="./node_modules/axios/dist/axios.js"></script>
  <script src="./node_modules/jquery/dist/jquery.js"></script>
  <title>Cross Domain</title>
</head>

<body>
  <h3>CORS set-cookie (http://localhost:3100)</h3>
  <div id="cors"></div>
  <div id="cors-info"></div>
  <h3>Proxy set-cookie (http://localhost:3000)</h3>
  <div id="proxy"></div>
  <div id="proxy-info"></div>
  <script type="text/javascript">
    // CORS
    axios({
      method:'post',
      withCredentials: true,
      url:'http://localhost:3100/cors-login',
    }).then(function (response) {
        $('#cors').html(response.data.msg)
        
        axios({
          method:'get',
          withCredentials: true,
          url:'http://localhost:3100/cors-info',
        }).then(function (response) {
          $('#cors-info').html(response.data.msg)
        })
        
      })
    
    
    // Proxy
    axios({
      method:'post',
      withCredentials: true,
      url:'/api/proxy-login',
    }).then(function (response) {
        $('#proxy').html(response.data.msg)
        
        axios({
          method:'get',
          withCredentials: true,
          url:'/api/proxy-info',
        }).then(function (response) {
          $('#proxy-info').html(response.data.msg)
        })
        
      })
    
  </script>
</body>

</html>
